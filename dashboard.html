<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard â€“ BlackHat VPS</title>
  <link rel="stylesheet" href="/css/styles.css">
  <script src="/js/ads.js" defer></script>
  <script defer>
    // Toggle menu
    function toggleMenu() {
      document.querySelector(".nav-links").classList.toggle("open");
    }

    // Charger infos utilisateur (exemple via API JSON)
    async function loadUserData() {
      const res = await fetch("/api/user/dashboard");
      const data = await res.json();
      document.getElementById("username").textContent = data.username;
      document.getElementById("userPoints").textContent = data.points;
      document.getElementById("activePanels").textContent = data.activePanels;
      document.getElementById("adsWatched").textContent = data.adsWatched;
      document.getElementById("pointsAvailable").textContent = data.points;
      renderPanels(data.panels);
    }

    function renderPanels(panels) {
      const tbody = document.querySelector("#panelsTable tbody");
      tbody.innerHTML = "";
      panels.forEach(panel => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${panel.name}</td>
          <td>${panel.language}</td>
          <td>${panel.storage}</td>
          <td>${panel.expiry}</td>
          <td><span class="status ${panel.status}">${panel.statusLabel}</span></td>
        `;
        tbody.appendChild(tr);
      });
    }

    window.onload = loadUserData;
  </script>
</head>
<body class="dashboard">
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">âš¡ BlackHat VPS</div>
    <nav>
      <div class="hamburger" onclick="toggleMenu()">â˜°</div>
      <ul class="nav-links">
        <li><a href="/dashboard" class="active">ğŸ  Dashboard</a></li>
        <li><a href="/panels">ğŸ–¥ï¸ Panels</a></li>
        <li><a href="/points">ğŸ’³ Points</a></li>
        <li><a href="/pubs">ğŸ¥ Pubs</a></li>
        <li><a href="/support">ğŸ“ Support</a></li>
        <li><a href="/settings">âš™ï¸ ParamÃ¨tres</a></li>
        <li><a href="/logout">ğŸšª DÃ©connexion</a></li>
      </ul>
    </nav>
  </header>

  <!-- Main -->
  <main class="main-content">
    <section class="welcome">
      <h1>Bienvenue, <span id="username">...</span> ğŸ‘‹</h1>
      <p>ğŸ’° Vous avez <strong id="userPoints">0</strong> points</p>
    </section>

    <!-- Quick Stats -->
    <section class="stats">
      <div class="card">
        <h3>ğŸ–¥ï¸ Panels Actifs</h3>
        <p id="activePanels">0</p>
      </div>
      <div class="card">
        <h3>ğŸ’³ Points Disponibles</h3>
        <p id="pointsAvailable">0</p>
      </div>
      <div class="card">
        <h3>ğŸ¥ Pubs RegardÃ©es</h3>
        <p id="adsWatched">0</p>
      </div>
    </section>

    <!-- Panels -->
    <section class="panels">
      <h2>Mes Panels</h2>
      <table id="panelsTable">
        <thead>
          <tr>
            <th>Nom</th>
            <th>Langage</th>
            <th>Stockage</th>
            <th>Expiration</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="5">Chargement...</td></tr>
        </tbody>
      </table>
      <button class="btn-primary">+ CrÃ©er un panel</button>
    </section>

    <!-- Points -->
    <section class="points">
      <h2>Points & Abonnements</h2>
      <div class="points-options">
        <div class="card">
          <h3>ğŸ¥ Regarder une pub</h3>
          <p>+2 points / publicitÃ©</p>
          <button class="btn-secondary" onclick="watchAd()">Commencer</button>
        </div>
        <div class="card">
          <h3>ğŸ’³ Acheter des points</h3>
          <p>100p = 1â‚¬ | 200p = 2â‚¬ | 300p = 2.5â‚¬ | 400p = 4â‚¬ | 500p = 5â‚¬</p>
          <button class="btn-secondary">Acheter</button>
        </div>
        <div class="card">
          <h3>ğŸ“… Abonnement</h3>
          <p>200p / semaine â†’ 8.99â‚¬ / mois</p>
          <button class="btn-secondary">Souscrire</button>
        </div>
      </div>
    </section>

    <!-- Support -->
    <section class="support">
      <h2>Support & Canaux</h2>
      <ul>
        <li><a href="https://whatsapp.com/channel/0029VbBFBxA1NCrVrBCF3g0F" target="_blank">ğŸ“¢ WhatsApp Channel 1</a></li>
        <li><a href="https://whatsapp.com/channel/0029Vb65HSyHwXbEQbQjQV26" target="_blank">ğŸ“¢ WhatsApp Channel 2</a></li>
        <li><a href="mailto:blackhatvps0@gmail.com">ğŸ“§ Email: blackhatvps0@gmail.com</a></li>
        <li><a href="https://wa.me/2250712668494">ğŸ’¬ WhatsApp Support</a></li>
        <li><a href="https://t.me/+2250712668494">ğŸ“± Telegram</a></li>
      </ul>
    </section>
  </main>
</body>
          </html>
